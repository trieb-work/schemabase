//// ------------------------------------------------------
//// THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
//// ------------------------------------------------------

Table ProductDataFeedApp {
  id String [pk]
  enabled Boolean [default: false]
  productDetailStorefrontURL String [not null]
  saleorApp SaleorApp [not null]
  saleorAppId String [not null]
  tenant Tenant [not null]
  tenantId String [unique, not null]
  webhooks IncomingProductDataFeedWebhook [not null]
  integration ProductDataFeedIntegration
}

Table LogisticsApp {
  id String [pk]
  enabled Boolean [default: false]
  currentOrdersCustomViewId String [not null]
  currentBulkOrdersCustomViewId String [not null]
  tenant Tenant [not null]
  tenantId String [unique, not null]
  webhooks IncomingLogisticsWebhook [not null]
  integration LogisticsIntegration
  logisticsIntegrationId String
}

Table ZohoApp {
  id String [pk]
  orgId String [not null]
  clientId String [not null]
  clientSecret String [not null]
  tenant Tenant [not null]
  tenantId String [unique, not null]
  strapiToZohoIntegration StrapiToZohoIntegration [not null]
  logisticsIntegration LogisticsIntegration [not null]
}

Table SaleorApp {
  id String [pk]
  domain String [not null]
  name String [not null]
  channelSlug String
  installedSaleorApp InstalledSaleorApp
  tenant Tenant [not null]
  tenantId String [not null]
  productDataFeedIntegration ProductDataFeedIntegration [not null]
  ProductDataFeedApp ProductDataFeedApp [not null]

  indexes {
    (domain, channelSlug) [unique]
  }
}

Table InstalledSaleorApp {
  id String [pk]
  webhooks IncomingSaleorWebhook [not null]
  token String [not null]
  saleorApp SaleorApp [not null]
  saleorAppId String [unique, not null]
}

Table Tenant {
  id String [pk]
  name String [not null]
  Subscriptions Subscription [not null]
  saleorApps SaleorApp [not null]
  zohoApps ZohoApp [not null]
  productdatafeedApps ProductDataFeedApp [not null]
  strapiApps StrapiApp [not null]
  productDataFeedIntegration ProductDataFeedIntegration [not null]
  strapiToZohoIntegration StrapiToZohoIntegration [not null]
  LogisticsIntegration LogisticsIntegration [not null]
  LogisticsApp LogisticsApp [not null]
}

Table Subscription {
  id String [pk]
  tenant Tenant [not null]
  tenantId String [not null]
  payedUntil DateTime
  productDataFeedIntegration ProductDataFeedIntegration
  strapiToZohoIntegration StrapiToZohoIntegration
  LogisticsIntegration LogisticsIntegration [not null]
}

Table ProductDataFeedIntegration {
  id String [pk]
  enabled Boolean [not null, default: true]
  subscription Subscription
  subscriptionId String [unique]
  tenant Tenant [not null]
  tenantId String [not null]
  productDataFeedApp ProductDataFeedApp [not null]
  productDataFeedAppId String [not null]
  saleorApp SaleorApp [not null]
  saleorAppId String [not null]
}

Table LogisticsIntegration {
  id String [pk]
  enabled Boolean [not null, default: true]
  subscription Subscription
  subscriptionId String [unique]
  tenant Tenant [not null]
  tenantId String [not null]
  zohoApp ZohoApp [not null]
  zohoAppId String [not null]
  LogisticsApp LogisticsApp [not null]
}

Table StrapiToZohoIntegration {
  id String [pk]
  payedUntil DateTime
  enabled Boolean [not null, default: true]
  strapiContentType String [not null, default: 'bulkorder']
  subscription Subscription
  subscriptionId String [unique]
  tenant Tenant [not null]
  tenantId String [not null]
  strapiApp StrapiApp [not null]
  strapiAppId String [not null]
  zohoApp ZohoApp [not null]
  zohoAppId String [not null]
}

Table StrapiApp {
  id String [pk]
  name String [not null]
  webhooks IncomingStrapiWebhook [not null]
  tenant Tenant [not null]
  tenantId String [not null]
  integration StrapiToZohoIntegration
}

Table IncomingSaleorWebhook {
  id String [pk]
  name String
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  secret SecretKey [not null]
  secretId String [not null]
  installedSaleorApp InstalledSaleorApp [not null]
  installedSaleorAppId String [not null]
}

Table IncomingStrapiWebhook {
  id String [pk]
  name String
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  secret SecretKey [not null]
  secretId String [not null]
  strapiApp StrapiApp [not null]
  strapiAppId String [not null]
}

Table IncomingProductDataFeedWebhook {
  id String [pk]
  name String
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  secret SecretKey
  secretId String
  productDataFeedApp ProductDataFeedApp [not null]
  productDataFeedAppId String [not null]
}

Table IncomingLogisticsWebhook {
  id String [pk]
  name String
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  secret SecretKey [not null]
  secretId String [not null]
  logisticsApp LogisticsApp [not null]
  logisticsAppId String [not null]
}

Table SecretKey {
  id String [pk]
  name String
  secret String [not null]
  createdAt DateTime [default: `now()`, not null]
  incomingSaleorWebhook IncomingSaleorWebhook
  IncomingStrapiWebhook IncomingStrapiWebhook
  IncomingProductDataFeedWebhook IncomingProductDataFeedWebhook
  IncomingLogisticsWebhook IncomingLogisticsWebhook
}

Ref: ProductDataFeedApp.saleorAppId > SaleorApp.id

Ref: ProductDataFeedApp.tenantId > Tenant.id

Ref: LogisticsApp.tenantId > Tenant.id

Ref: LogisticsApp.logisticsIntegrationId > LogisticsIntegration.id

Ref: ZohoApp.tenantId > Tenant.id

Ref: SaleorApp.tenantId > Tenant.id

Ref: InstalledSaleorApp.saleorAppId - SaleorApp.id

Ref: Subscription.tenantId > Tenant.id

Ref: ProductDataFeedIntegration.subscriptionId - Subscription.id

Ref: ProductDataFeedIntegration.tenantId > Tenant.id

Ref: ProductDataFeedIntegration.productDataFeedAppId - ProductDataFeedApp.id

Ref: ProductDataFeedIntegration.saleorAppId > SaleorApp.id

Ref: LogisticsIntegration.subscriptionId > Subscription.id

Ref: LogisticsIntegration.tenantId > Tenant.id

Ref: LogisticsIntegration.zohoAppId > ZohoApp.id

Ref: StrapiToZohoIntegration.subscriptionId - Subscription.id

Ref: StrapiToZohoIntegration.tenantId > Tenant.id

Ref: StrapiToZohoIntegration.strapiAppId - StrapiApp.id

Ref: StrapiToZohoIntegration.zohoAppId > ZohoApp.id

Ref: StrapiApp.tenantId > Tenant.id

Ref: IncomingSaleorWebhook.secretId - SecretKey.id

Ref: IncomingSaleorWebhook.installedSaleorAppId > InstalledSaleorApp.id

Ref: IncomingStrapiWebhook.secretId - SecretKey.id

Ref: IncomingStrapiWebhook.strapiAppId > StrapiApp.id

Ref: IncomingProductDataFeedWebhook.secretId - SecretKey.id

Ref: IncomingProductDataFeedWebhook.productDataFeedAppId > ProductDataFeedApp.id

Ref: IncomingLogisticsWebhook.secretId - SecretKey.id

Ref: IncomingLogisticsWebhook.logisticsAppId > LogisticsApp.id