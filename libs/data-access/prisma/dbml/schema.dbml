//// ------------------------------------------------------
//// THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
//// ------------------------------------------------------

Table ProductDataFeed {
  id String [pk]
  publicId String [unique, not null]
  enabled Boolean [default: false]
  productDetailStorefrontURL String
  tenant Tenant [not null]
  tenantId String [unique, not null]
  ProductDataFeedWebhook IncomingWebhook [not null]
  ProductDataFeedIntegration ProductDataFeedIntegration [not null]
}

Table ZohoConfig {
  id String [pk]
  enabled Boolean [not null, default: false]
  publicId String [not null]
  orgId String [not null]
  clientId String [not null]
  clientSecret String [not null]
  payPalAccountId String
  creditCardAccountId String
  webhookToken String [not null]
  webhookID String
  customFunctionID String
  tenant Tenant [not null]
  tenantId String [unique, not null]
}

Table SaleorApp {
  id String [pk]
  channelSlug String [not null]
  domain String [unique, not null]
  name String [not null]
  appToken String [not null]
  webhooks IncomingWebhook [not null]
  tenant Tenant [not null]
  tenantId String [not null]

  indexes {
    (domain, channelSlug) [unique]
  }
}

Table Tenant {
  id String [pk]
  name String [not null]
  Subscriptions Subscription [not null]
  saleorApps SaleorApp [not null]
  zoho ZohoConfig [not null]
  productdatafeed ProductDataFeed [not null]
  strapi Strapi [not null]
  ProductDataFeedIntegration ProductDataFeedIntegration [not null]
  StrapiToZohoIntegration StrapiToZohoIntegration [not null]
}

Table Subscription {
  id String [pk]
  tenant Tenant [not null]
  tenantId String [not null]
  payedUntil DateTime
  ProductDataFeedIntegration ProductDataFeedIntegration [not null]
}

Table ProductDataFeedIntegration {
  id String [pk]
  enabled Boolean [not null, default: true]
  subscription Subscription
  subscriptionId String [unique]
  tenant Tenant [not null]
  tenantId String [not null]
  productDataFeed ProductDataFeed
  productDataFeedId String
}

Table StrapiToZohoIntegration {
  id String [pk]
  payedUntil DateTime
  enabled Boolean [not null, default: true]
  tenant Tenant [not null]
  tenantId String [not null]
  strapi Strapi
  strapiId String
}

Table Strapi {
  id String [pk]
  name String [not null]
  webhooks IncomingWebhook [not null]
  tenant Tenant [not null]
  tenantId String [not null]
  StrapiToZohoIntegration StrapiToZohoIntegration [not null]
}

Table IncomingWebhook {
  id String [pk]
  name String
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  lastUsed DateTime
  secret SecretKey [not null]
  secretId String [not null]
  strapi Strapi
  strapiId String
  saleor SaleorApp
  saleorApp String
  productDataFeed ProductDataFeed
  productDataFeedId String
}

Table SecretKey {
  id String [pk]
  name String
  hash String [not null]
  createdAt DateTime [default: `now()`, not null]
  lastUsed DateTime
  IncomingWebhook IncomingWebhook
}

Ref: ProductDataFeed.tenantId > Tenant.id

Ref: ZohoConfig.tenantId > Tenant.id

Ref: SaleorApp.tenantId > Tenant.id

Ref: Subscription.tenantId > Tenant.id

Ref: ProductDataFeedIntegration.subscriptionId > Subscription.id

Ref: ProductDataFeedIntegration.tenantId > Tenant.id

Ref: ProductDataFeedIntegration.productDataFeedId > ProductDataFeed.id

Ref: StrapiToZohoIntegration.tenantId > Tenant.id

Ref: StrapiToZohoIntegration.strapiId > Strapi.id

Ref: Strapi.tenantId > Tenant.id

Ref: IncomingWebhook.secretId - SecretKey.id

Ref: IncomingWebhook.strapiId > Strapi.id

Ref: IncomingWebhook.saleorApp > SaleorApp.id

Ref: IncomingWebhook.productDataFeedId > ProductDataFeed.id