//// ------------------------------------------------------
//// THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
//// ------------------------------------------------------

Table eci_User {
  id String [pk]
  name String [note: 'A user\'s fullname']
  email String [unique, not null]
  password String
  eci_User_Tenants eci_User_Tenant [not null, note: 'The tenants, that the user is member of']

  Note: 'ECI Internal models are prefixed with eci_ - these models store internal data like ECI users
'
}

Table eci_User_Tenant {
  id String [pk]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  user eci_User [not null]
  userId String [not null]
  tenant Tenant [not null]
  tenantId String [not null]
  role eci_User_Tenant_Role [not null]

  Note: 'Mapping of user to tenant and their related rights. User tenant membership'
}

Table Cookies {
  id String [pk]
  key String [not null]
  value String [not null]
  installedSaleorApp InstalledSaleorApp
  installedSaleorAppId String

  Note: 'ECI Internal model to store cookies / additional headers, that
might be needed for some apps'
}

Table SaleorProductType {
  id String [not null, note: 'Saleor Internal Id']
  installedSaleorApp InstalledSaleorApp [not null]
  installedSaleorAppId String [not null]
  productType ProductType [not null]
  productTypeId String [not null]

  indexes {
    (id, installedSaleorAppId) [unique]
  }
}

Table SaleorAttribute {
  id String [not null, note: 'Saleor Internal Id']
  attribute Attribute [not null]
  attributeId String [not null]
  installedSaleorApp InstalledSaleorApp [not null]
  installedSaleorAppId String [not null]

  indexes {
    (id, installedSaleorAppId) [unique]
  }
}

Table SaleorOrder {
  id String [not null, note: 'Saleor Internal Id']
  createdAt DateTime [not null]
  order Order [not null]
  orderId String [not null]
  orderNumber String [not null]
  installedSaleorApp InstalledSaleorApp [not null]
  installedSaleorAppId String [not null]
  saleorPayment SaleorPayment [not null]

  indexes {
    (id, installedSaleorAppId) [unique]
    (orderId, installedSaleorAppId) [unique]
  }
}

Table SaleorCategory {
  id String [not null, note: 'Saleor Internal Id']
  category Category [not null]
  categoryId String [not null]
  installedSaleorApp InstalledSaleorApp [not null]
  installedSaleorAppId String [not null]

  indexes {
    (id, installedSaleorAppId) [unique]
  }
}

Table SaleorCustomer {
  id String [not null, note: 'Saleor Internal Id']
  createdAt DateTime [not null]
  updatedAt DateTime [not null]
  customer Contact [not null]
  customerId String [not null]
  installedSaleorApp InstalledSaleorApp [not null]
  installedSaleorAppId String [not null]

  indexes {
    (id, installedSaleorAppId) [unique]
  }
}

Table SaleorChannel {
  id String [not null]
  name String [not null]
  salesChannel SalesChannel [note: 'related, internal sales channel. We map this channel manually in most cases, so this field is optional']
  salesChannelId String
  installedSaleorApp InstalledSaleorApp [not null]
  installedSaleorAppId String [not null]

  indexes {
    (id, installedSaleorAppId) [unique]
  }
}

Table SaleorPackage {
  id String [not null, note: 'Saleor Internal Id']
  createdAt DateTime [not null]
  package Package [not null]
  packageId String [not null]
  installedSaleorApp InstalledSaleorApp [not null]
  installedSaleorAppId String [not null]

  indexes {
    (id, installedSaleorAppId) [unique]
  }
}

Table SaleorFulfillmentLine {
  id String [not null, note: 'Saleor Internal Id']
  packagelineItem PackageLineItem [not null]
  packageLineItemId String [not null]
  installedSaleorApp InstalledSaleorApp [not null]
  installedSaleorAppId String [not null]

  indexes {
    (id, installedSaleorAppId) [unique]
  }
}

Table SaleorOrderLineItem {
  id String [not null, note: 'Saleor Internal Id']
  orderLineItem OrderLineItem [not null]
  orderLineItemId String [not null]
  installedSaleorApp InstalledSaleorApp [not null]
  installedSaleorAppId String [not null]

  indexes {
    (id, installedSaleorAppId) [unique]
  }
}

Table SaleorPayment {
  id String [not null, note: 'Saleor Internal Id']
  createdAt DateTime [not null]
  updatedAt DateTime [not null]
  saleorOrder SaleorOrder
  saleorOrderId String
  payment Payment
  paymentId String
  installedSaleorApp InstalledSaleorApp [not null]
  installedSaleorAppId String [not null]

  indexes {
    (id, installedSaleorAppId) [unique]
  }
}

Table SaleorProduct {
  id String [not null, note: 'Saleor internal product id']
  updatedAt DateTime [not null]
  product Product [not null]
  productId String [not null]
  installedSaleorApp InstalledSaleorApp [not null]
  installedSaleorAppId String [not null]

  indexes {
    (id, installedSaleorAppId) [unique]
  }
}

Table SaleorProductVariant {
  id String [not null, note: 'Saleor internal product variant id']
  productId String [not null, note: 'Saleor internal product Id']
  updatedAt DateTime [not null]
  productVariant ProductVariant [not null]
  productVariantId String [not null]
  installedSaleorApp InstalledSaleorApp [not null]
  installedSaleorAppId String [not null]

  indexes {
    (id, installedSaleorAppId) [unique]
  }
}

Table SaleorWarehouse {
  id String [not null, note: 'Saleor Internal Id']
  warehouse Warehouse [not null]
  warehouseId String [not null]
  installedSaleorApp InstalledSaleorApp [not null]
  installedSaleorAppId String [not null]

  indexes {
    (id, installedSaleorAppId) [unique]
  }
}

Table SaleorPaymentGateway {
  id String [not null, note: 'Saleor Internal Id']
  installedSaleorApp InstalledSaleorApp [not null]
  installedSaleorAppId String [not null]
  paymentMethods PaymentMethod [not null]

  indexes {
    (id, installedSaleorAppId) [unique]
  }
}

Table ZohoItem {
  id String [not null, note: 'Zoho Internal Id']
  createdAt DateTime [not null]
  updatedAt DateTime [not null]
  productVariant ProductVariant [not null]
  productVariantId String [not null]
  zohoApp ZohoApp [not null]
  zohoAppId String [not null]

  indexes {
    (id, zohoAppId) [unique]
  }
}

Table ZohoPackage {
  id String [not null, note: 'Zoho Internal Id']
  shipmentId String
  createdAt DateTime [not null]
  updatedAt DateTime [not null]
  shipmentStatus String
  package Package [not null]
  packageId String [not null]
  zohoApp ZohoApp [not null]
  zohoAppId String [not null]

  indexes {
    (id, zohoAppId) [unique]
  }
}

Table ZohoContact {
  id String [not null]
  createdAt DateTime
  updatedAt DateTime
  datevId Int [note: 'When using the DATEV integration from Zoho Books, this field might come in handy.
/ Needs customFieldDatevContact in ZohoApp set']
  zohoApp ZohoApp [not null]
  zohoAppId String [not null]
  zohoContactPerson ZohoContactPerson [not null]
  zohoSalesOrder ZohoSalesOrder [not null]
  zohoAddress ZohoAddress [not null]

  indexes {
    (id, zohoAppId) [unique]
  }
}

Table ZohoContactPerson {
  id String [not null, note: 'Zoho Internal ContactPerson Id']
  active Boolean [not null, default: true, note: 'Contacts/Contactpersons can be disabled to filter out merged contacts']
  isPrimary Boolean [not null, default: false, note: 'Just one Zoho Contact Person can be primary']
  zohoContact ZohoContact [not null]
  zohoContactId String [not null]
  contact Contact [not null]
  contactId String [not null]
  email String
  zohoApp ZohoApp [not null]
  zohoAppId String [not null]
  zohoSalesOrders ZohoSalesOrder [not null]

  indexes {
    (id, zohoAppId) [unique]
  }
}

Table ZohoAddress {
  id String [not null, note: 'Zoho internal Address id']
  address Address [not null]
  addressId String [not null]
  zohoContact ZohoContact [note: 'Zoho Addresses are valid only per zoho contact. Sometimes, we have different
customers with the same address. To not get any issues, we need to store the customer id']
  zohoContactId String
  zohoApp ZohoApp [not null]
  zohoAppId String [not null]

  indexes {
    (id, zohoAppId) [unique]
  }
}

Table ZohoSalesOrder {
  id String [not null, note: 'Zoho Internal Id']
  createdAt DateTime [not null]
  updatedAt DateTime [not null]
  zohoContact ZohoContact
  zohoContactId String
  order Order [not null]
  orderId String [not null, note: 'The ECI internal order ID ']
  zohoApp ZohoApp [not null]
  zohoAppId String [not null]
  zohoContactPerson ZohoContactPerson
  zohoContactPersonId String
  zohoContactPersonZohoAppId String

  indexes {
    (id, zohoAppId) [unique]
  }
}

Table ZohoInvoice {
  id String [not null, note: 'Zoho Internal Id']
  createdAt DateTime [not null]
  updatedAt DateTime [not null]
  number String [not null]
  invoice Invoice [not null]
  invoiceId String [not null]
  zohoApp ZohoApp [not null]
  zohoAppId String [not null]

  indexes {
    (id, zohoAppId) [unique]
    (number, zohoAppId) [unique]
  }
}

Table ZohoPayment {
  id String [not null, note: 'Zoho Internal Id']
  createdAt DateTime [not null]
  updatedAt DateTime [not null]
  payment Payment
  paymentId String [unique]
  zohoApp ZohoApp [not null]
  zohoAppId String [not null]

  indexes {
    (id, zohoAppId) [unique]
  }

  Note: 'Zoho specific model.'
}

Table ZohoBankAccount {
  id String [not null, note: 'Zoho Internal Bankacount Id']
  name String [not null]
  currency Currency [not null]
  active Boolean [not null, default: true]
  paymentMethod PaymentMethod
  paymentMethodId String
  zohoApp ZohoApp [not null]
  zohoAppId String [not null]

  indexes {
    (id, zohoAppId) [unique]
  }
}

Table ZohoWarehouse {
  id String [not null, note: 'Zoho Internal Id']
  warehouse Warehouse [not null]
  warehouseId String [not null]
  zohoApp ZohoApp [not null]
  zohoAppId String [not null]

  indexes {
    (id, zohoAppId) [unique]
  }
}

Table ZohoTax {
  id String [not null, note: 'internal ID of tax in Zoho']
  tax Tax [not null]
  taxId String [not null, note: 'ID of eci internal Tax Object']
  name String [note: 'The name could be used to match a tax better when multiple taxes exist']
  zohoApp ZohoApp [not null]
  zohoAppId String [not null]

  indexes {
    (id, zohoAppId) [unique]
  }
}

Table ZohoOrderLineItem {
  id String [not null, note: 'Zoho Internal Id']
  orderLineItem OrderLineItem [not null]
  orderLineItemId String [not null]
  zohoApp ZohoApp [not null]
  zohoAppId String [not null]

  indexes {
    (id, zohoAppId) [unique]
  }
}

Table ZohoPackageLineItem {
  id String [not null, note: 'Zoho Internal Id']
  packagelineItem PackageLineItem [not null]
  packagelineItemId String [not null]
  zohoApp ZohoApp [not null]
  zohoAppId String [not null]
  orderLineItem OrderLineItem
  orderLineItemId String

  indexes {
    (id, zohoAppId) [unique]
  }
}

Table Invoice {
  id String [pk]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  invoiceNumber String [not null]
  invoiceTotalGross Float [not null]
  invoiceCurrency Currency [not null]
  payments Payment [not null]
  tenant Tenant [not null]
  tenantId String [not null]
  orders Order [not null]
  zohoInvoice ZohoInvoice [not null]
  mainContact Contact [note: 'The person who has created this Invoice (In other systems this can also be a Useraccount)']
  mainContactId String

  indexes {
    (invoiceNumber, tenantId) [unique]
  }
}

Table DatevContact {
  id String [pk]
  datevNummer Int [not null, note: 'The datev ID has to follow the DATEV rules: for SKR04 10000-69999 = debitoren, 
70000-99999 = Kreditoren']
  type DatevContactType [not null]
  contact Contact [not null]
  contactId String [not null]
  datevApp DatevApp [not null]
  datevAppId String [not null]
}

Table Tax {
  id String [pk]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  name String [not null]
  normalizedName String [not null]
  percentage Float [not null]
  shippingTaxInOrders Order [not null, note: 'An array of orders where this tax is used as the tax for the shipping method']
  taxInLineItems OrderLineItem [not null, note: 'An array of lineitems where this tax is used as the tax for the line item']
  productVariants ProductVariant [not null]
  tenant Tenant [not null]
  tenantId String [not null]
  zohoTaxes ZohoTax [not null]

  indexes {
    (normalizedName, tenantId) [unique]
    (percentage, tenantId) [unique]
  }
}

Table Payment {
  id String [pk, note: 'eci internal id']
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  referenceNumber String [not null, note: 'Unique identifier for a customer payment. We use the payment gateway id as reference.']
  date DateTime [note: 'The order date. You can also create an order in the past for example. 
Some systems just use a date here']
  amount Float [not null]
  transactionFee Float [not null, default: 0, note: 'Costs for this transaction, for example bank charges, gateway charges, paypal charges']
  order Order
  orderId String
  mainContact Contact [note: 'The person who has created this Payment (In other systems this can also be a Useraccount)']
  mainContactId String
  tenant Tenant [not null]
  tenantId String [not null]
  paymentMethod PaymentMethod [not null]
  paymentMethodId String [not null]
  invoices Invoice [not null]
  zohoPayment ZohoPayment [not null]
  saleorPayment SaleorPayment [not null]
  braintreeTransactions BraintreeTransaction [not null]

  indexes {
    (referenceNumber, tenantId) [unique]
  }

  Note: 'The ECI internal payments model'
}

Table PaymentMethod {
  id String [pk]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  gatewayType GatewayType [not null]
  methodType PaymentMethodType [not null]
  currency Currency [not null]
  saleorPaymentGateway SaleorPaymentGateway
  saleorPaymentGatewayId String
  saleorPaymentGatewayInstalledSaleorAppId String
  zohoBankAccounts ZohoBankAccount [not null, note: 'One internal payment method can have multiple Zoho Bank Accounts. Internally, we know for example just "banktransfer" but in Zoho we might have multiple
bank Accounts']
  payments Payment [not null]
  tenant Tenant [not null]
  tenantId String [not null]

  indexes {
    (gatewayType, methodType, currency, tenantId) [unique]
  }

  Note: 'Internal representation of payment methods. We try to normalize different payment types to more generic ones.'
}

Table Company {
  id String [pk]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  name String [not null]
  normalizedName String [not null]
  contacts Contact [not null]
  tenant Tenant [not null]
  tenantId String [not null]

  indexes {
    (name, tenantId) [unique]
    (normalizedName, tenantId) [unique]
  }
}

Table Contact {
  id String [pk]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  email String [not null]
  firstName String
  lastName String
  customer Boolean [not null, default: true, note: 'is this contact a customer / debitor? Can be customer and/or vendor']
  vendor Boolean [not null, default: false, note: 'is this contact a vendor / kreditor? Can be customer and/or vendor']
  orders Order [not null]
  invoices Invoice [not null]
  payments Payment [not null]
  company Company [note: 'A Contact can be related to one company']
  companyId String
  tenant Tenant [not null]
  tenantId String [not null]
  zohoContactPersons ZohoContactPerson [not null]
  datevContacts DatevContact [not null]
  addresses Address [not null]
  saleorCustomers SaleorCustomer [not null]
  kencoveApiContacts KencoveApiContact [not null]
  trackingEmailsConsent Boolean [not null, default: true, note: 'If we have the users permission to send tracking emails']
  marketingEmailsConstent Boolean [not null, default: false, note: 'If we have the users consent to send marketing emails']

  indexes {
    (email, tenantId) [unique]
  }

  Note: 'The ECI internal contact model. One contact has one E-Mail address only. E-Mail addresses are unique per tenant. In some systems the Contact is equal to Users or Accounts'
}

Table Warehouse {
  id String [pk]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  name String [not null]
  normalizedName String [not null]
  tenant Tenant [not null]
  tenantId String [not null]
  zohoWarehouse ZohoWarehouse [not null]
  saleorWarehouse SaleorWarehouse [not null]
  xentralProxyApp XentralProxyApp [not null]
  installedSaleorApp InstalledSaleorApp [not null]
  kencoveApiWarehouse KencoveApiWarehouse [not null]
  packageLineItems PackageLineItem [not null]
  orderLineItems OrderLineItem [not null]
  stockEntries StockEntries [not null]
  isDefaultWarehouseOf ProductVariant [not null]

  indexes {
    (name, tenantId) [unique]
    (normalizedName, tenantId) [unique]
  }
}

Table OrderLineItem {
  id String [pk]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  uniqueString String [not null]
  itemOrder Int [note: 'The order of this line item in the order. Starts with 1']
  order Order [not null]
  orderId String [not null]
  quantity Float [not null]
  sku String [not null]
  tax Tax
  taxId String
  warehouse Warehouse
  warehouseId String
  totalPriceNet Float [note: 'The total net price (price excluding taxes) of all line item. Optional, as we might have just one of the two values on hand']
  totalPriceGross Float [note: 'The total gross price (price including taxes) of all line item. Optional, as we might have just one of the two values on hand']
  undiscountedUnitPriceNet Float [note: 'The unit net price (price excluding taxes) of one line item. Optional, as we might have just one of the two values on hand']
  undiscountedUnitPriceGross Float [note: 'The unit gross price (price including taxes) of one line item. Optional, as we might have just one of the two values on hand']
  discountValueNet Float [not null, default: 0, note: 'The disount amount, that is applied to the net price (discount excluding taxes).']
  productVariant ProductVariant [not null, note: 'The disount amount, that is applied to the gross price (discount including taxes).']
  productVariantId String [not null]
  tenant Tenant [not null]
  tenantId String [not null]
  zohoPackageLineItems ZohoPackageLineItem [not null]
  saleorOrderLineItems SaleorOrderLineItem [not null]
  zohoOrderLineItems ZohoOrderLineItem [not null]

  indexes {
    (uniqueString, tenantId) [unique]
  }
}

Table PackageLineItem {
  id String [pk]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  uniqueString String [not null]
  warehouse Warehouse
  warehouseId String
  package Package
  packageId String
  quantity Float [not null]
  sku String [not null]
  productVariant ProductVariant [not null]
  tenant Tenant [not null]
  tenantId String [not null]
  zohoPackageLineItems ZohoPackageLineItem [not null]
  saleorFulfillmentsLines SaleorFulfillmentLine [not null]

  indexes {
    (uniqueString, tenantId) [unique]
  }
}

Table Order {
  id String [pk]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  date DateTime [not null, note: 'The order date. You can also create an order in the past for example. 
Some systems just use a date here']
  expectedShippingDate DateTime [note: 'The Date, that we expect this order to be shipped.']
  carrier Carrier [note: 'The expected shipment carrier for this order']
  customerNote String [note: 'Add messages, that will be printed on order and shipping documents for the customer. We are hitting text limits  strangely, so we added @db.Text']
  orderStatus OrderStatus [not null, default: 'draft']
  paymentStatus OrderPaymentStatus [not null, default: 'unpaid']
  shipmentStatus OrderShipmentStatus [not null, default: 'pending']
  invoiceStatus OrderInvoiceStatus [not null, default: 'notInvoiced']
  readyToFullfill Boolean [not null, default: false, note: 'In PuF: if the Order is not readyToFullfill it woll not get transfered to logistics partner (kramer); default is false']
  token String [note: 'An order token, that can be used to pull this order unauthenticated.
can be manually set, but we also use a cuid by default']
  orderNumber String [not null, note: 'Order-Numbers have to be unique per Tenant!
We use them as unique identifier between systems']
  referenceNumber String [note: 'if source system has a second ID which is benefitial to the user, we can provide it here']
  orderLineItems OrderLineItem [not null]
  shippingPriceNet Float
  shippingPriceGross Float
  shippingPriceTax Tax
  shippingPriceTaxId String
  discountCode String [note: 'The applied discount code']
  discountValueNet Float [not null, default: 0, note: 'The disount amount, that is applied
to the net, undiscounted subtotal price.
Discounts never get applied on shipping costs']
  discountValueNetPercentage Float [not null, default: 0, note: 'The disount percentage, that is applied
to the net, undiscounted subtotal price.
Discounts never get applied on shipping costs']
  totalPriceNet Float
  totalPriceGross Float [not null]
  mainContact Contact [not null, note: 'The person who has created this Order (In other systems this can also be a Useraccount)']
  mainContactId String [not null]
  firstName String [note: 'First and Lastname as extra fields only for this order. The main contact is not sufficient here
fields are used for example for tracking notifications']
  lastName String
  trackingNotificationsEnabled Boolean [not null, default: true, note: 'We can disable tracking notifications on user, order and package level']
  language Language [not null, default: 'DE']
  packages Package [not null]
  shippingAddress Address
  shippingAddressId String
  billingAddress Address
  billingAddressId String
  tenant Tenant [not null]
  tenantId String [not null]
  payments Payment [not null]
  saleorOrders SaleorOrder [not null]
  zohoSalesOrders ZohoSalesOrder [not null]
  xentralProxyAuftraege XentralProxyAuftrag [not null]
  kencoveApiOrders KencoveApiOrder [not null]
  invoices Invoice [not null]

  indexes {
    (orderNumber, tenantId) [unique]
    (id, orderNumber) [unique]
  }
}

Table SalesChannel {
  id String [pk]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  name String [not null]
  normalizedName String [not null]
  tenant Tenant [not null]
  tenantId String [not null]
  saleorChannels SaleorChannel [not null]
  priceEntries SalesChannelPriceEntry [not null]

  indexes {
    (normalizedName, tenantId) [unique]
  }

  Note: 'The schemabase internal sales channel model.
We use channels to offer different availabilities and prices for different products
you can map for example saleor sales channels to this model and pricelists from different
ERP systems'
}

Table SalesChannelPriceEntry {
  id String [pk]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  salesChannel SalesChannel [not null]
  salesChannelId String [not null]
  productVariant ProductVariant [not null]
  productVariantId String [not null]
  tenant Tenant [not null]
  tenantId String [not null]
  price Float [not null]
  startDate DateTime [default: `now()`, not null]
  endDate DateTime
  minQuantity Float [not null, default: 0, note: 'This price is valid starting with this quantity']

  indexes {
    (salesChannelId, productVariantId, tenantId, minQuantity, startDate) [unique]
  }
}

Table Address {
  id String [pk]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  isDefault Boolean [note: 'Optional information, if this address is the default for a certain contact.
This information can be used by some systems like Zoho']
  street String
  additionalAddressLine String
  plz String
  city String
  countryCode CountryCode
  countryArea String
  company String
  phone String
  fullname String
  state String [note: 'The state of the address. This is not the country, but the state of the country. Like NY']
  houseNumber String [note: 'Optional field']
  streetWithoutHouseNumber String
  contact Contact [not null, note: 'One address can have multiple contacts connected to it.
Sometimes, you have orders from different email addresses, sending to the same address..']
  tenant Tenant [not null]
  tenantId String [not null]
  normalizedName String [not null, note: 'A unique string identifying this address for easy lookup']
  zohoAddress ZohoAddress [not null, note: 'An array of zoho addresses. Can be multiple if the same address is synced to different zoho apps']
  kencoveApiAddress KencoveApiAddress [not null]
  shippingAddressInOrders Order [not null, note: 'An array of orders where this address is used as the shipping address']
  billingAddressInOrders Order [not null, note: 'An array of orders where this address is used as the billing address']

  indexes {
    (normalizedName, tenantId) [unique]
  }
}

Table Attribute {
  id String [pk]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  name String [not null]
  normalizedName String [not null, note: 'normalized attribute name for internal mapping']
  type AttributeType [not null]
  required Boolean [default: false, note: 'Is the attribute mandatory to be set, or can it be left blank']
  slug String [note: 'An understandable slug']
  productValues AttributeValueProduct [not null, note: 'Values for product attributes']
  productVariantValues AttributeValueVariant [not null, note: 'Values for variant attributes']
  productTypeAttributes ProductTypeAttribute [not null]
  tenant Tenant [not null]
  tenantId String [not null]
  kencoveApiAttributes KencoveApiAttribute [not null]
  saleorAttributes SaleorAttribute [not null]

  indexes {
    (normalizedName, tenantId) [unique]
  }
}

Table Media {
  id String [pk]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  url String [not null, note: 'The url of the media']
  type MediaPlacementType
  tenant Tenant [not null, note: 'The tenant this media belongs to']
  tenantId String [not null]
  products Product [not null]
  productVariants ProductVariant [not null]
  categories Category [not null]

  indexes {
    (url, tenantId) [unique]
  }

  Note: 'model to store image and other media urls for products, variants, categories etc.
the URL is the unique identifier for the media'
}

Table AttributeValueProduct {
  id String [pk]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  value String [not null, note: 'Represent value of the attribute value, like text string. When hexColor is additionally used, you always need a string value as well
When attribute is multiselect/dropdown, we have one entry per value ']
  hexColor String [note: 'color values for swatch attributes']
  normalizedName String [not null, note: 'We always set a normalized name for the attribute value. For example, if the value is the hex code for red, we set "red" as the normalized name']
  attribute Attribute [not null]
  attributeId String [not null]
  product Product [not null, note: 'When attribute is a product attribute, this relation is set']
  productId String [not null]
  tenant Tenant [not null]
  tenantId String [not null]

  indexes {
    (productId, attributeId, normalizedName, tenantId) [unique]
  }

  Note: 'attributes values for attributes. We have to separate models for product and variant attributes,
This model is used to store values for product attributes'
}

Table AttributeValueVariant {
  id String [pk]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  value String [not null, note: 'Represent value of the attribute value, like text string. 
When hexColor is additionally used, you always need a string value as well
When the attribute type is "reference", we use the id of the referenced product or variant ']
  hexColor String [note: 'color values for swatch attributes']
  normalizedName String [not null, note: 'We always set a normalized name for the attribute value. For example, if the value is the hex code for red, we set "red" as the normalized name']
  attribute Attribute [not null]
  attributeId String [not null]
  productVariant ProductVariant [not null, note: 'When attribute is a variant attribute, this relation is set']
  productVariantId String [not null]
  tenant Tenant [not null]
  tenantId String [not null]

  indexes {
    (productVariantId, attributeId, normalizedName, tenantId) [unique]
  }

  Note: 'attributes values for attributes. We have to separate models for product and variant attributes,
This model is used to store values for variant attributes'
}

Table ProductTag {
  id String [pk]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  name String [not null, note: 'The name of the tag']
  normalizedName String [not null, note: 'The normalized name of the tag']
  tenant Tenant [not null, note: 'The tenant this tag belongs to']
  tenantId String [not null]
  products Product [not null, note: 'The products that are tagged with this tag']

  indexes {
    (normalizedName, tenantId) [unique]
  }

  Note: 'Product tags are used to group products together. 
They are not hierarchical, but flat. You can use generic tags like "Sale" or "New" or "Bestseller"'
}

Table Category {
  id String [pk]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  name String [not null, note: 'The name of the category']
  normalizedName String [not null, note: 'The normalized name of the category']
  slug String [note: 'The slug of the category']
  level Int [note: 'if possible, the nesting level of this category, starting with 0']
  parentCategory Category [note: 'The parent category of this category']
  parentCategoryId String [note: 'The id of the parent category']
  childrenCategories Category [not null, note: 'The children categories of this category']
  products Product [not null, note: 'The products in this category']
  active Boolean [not null, default: true, note: 'Is this category active or not. Old categories can be disabled']
  descriptionHTML String [note: 'The description text of the category as HTML']
  tenant Tenant [not null, note: 'The tenant this category belongs to']
  tenantId String [not null]
  kencoveApiCategories KencoveApiCategory [not null, note: 'The kencove categories this category is synced to']
  saleorCategories SaleorCategory [not null]
  media Media [not null]

  indexes {
    (normalizedName, tenantId) [unique]
  }

  Note: 'The ECI internal category model. Product categories are used to group products together
and to create a product hierarchy. Categories can be nested'
}

Table ProductType {
  id String [pk]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  name String [not null, note: 'e.g., "Shirt", "Energizer", etc.']
  normalizedName String [not null]
  isVariant Boolean [not null, note: 'Indicates if products of this type have variants']
  products Product [not null]
  attributes ProductTypeAttribute [not null, note: 'Links to the attributes that belong to this product type. This relational table defines also if attributes are variant selection attributes or not']
  saleorProductTypes SaleorProductType [not null]
  kencoveApiProductTypes KencoveApiProductType [not null]
  tenant Tenant [not null]
  tenantId String [not null]

  indexes {
    (normalizedName, tenantId) [unique]
    (id, tenantId) [unique]
  }

  Note: 'Product Types are like templates for products. They define which attributes a product has
and if a product has variants'
}

Table ProductTypeAttribute {
  id String [pk]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  productTypeId String [not null]
  isForVariant Boolean [not null, note: 'Indicates if the attribute is for product or variant.']
  isVariantSelection Boolean [not null, note: 'Indicates if it\'s a "variant selection" attribute for multi-variant products, for example size or color']
  productType ProductType [not null]
  attribute Attribute [not null]
  attributeId String [not null]

  indexes {
    (productTypeId, attributeId) [unique]
  }

  Note: 'matching table between product types and attributes'
}

Table ProductToFrequentlyBoughtWith {
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  productId String [not null]
  relatedProductId String [not null]
  product Product [not null]
  relatedProduct Product [not null]

  indexes {
    (productId, relatedProductId) [pk]
  }

  Note: 'This model defines the relation between a product and a related product,
frequently bought together.'
}

Table Product {
  id String [pk]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  name String [not null]
  normalizedName String [not null]
  hsCode String
  countryOfOrigin CountryCode
  variants ProductVariant [not null]
  tags ProductTag [not null]
  productType ProductType
  productTypeId String
  category Category [note: 'The category this product belongs to']
  categoryId String
  tenant Tenant [not null]
  tenantId String [not null]
  saleorProducts SaleorProduct [not null]
  descriptionHTML String
  attributes AttributeValueProduct [not null]
  media Media [not null]
  frequentlyBoughtWith ProductToFrequentlyBoughtWith [not null, note: 'All frequently bought together products as relation']
  boughtTogetherWith ProductToFrequentlyBoughtWith [not null, note: 'Just the relation back. Not used in the code']

  indexes {
    (name, tenantId) [unique]
    (normalizedName, tenantId) [unique]
  }
}

Table ProductVariant {
  id String [pk]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  active Boolean [not null, default: true, note: 'Old product variants get disabled']
  sku String [not null]
  variantName String
  ean String
  weight Float [note: 'The weight in KG for this product variant']
  averageRating Float [note: 'Product rating based on customer reviews from services like reviews.io']
  ratingCount Int [note: 'Number of ratings for this product variant']
  product Product [not null]
  productId String [not null, note: 'schemabase internal productId']
  tenant Tenant [not null]
  tenantId String [not null]
  defaultWarehouse Warehouse [note: 'The default warehouse to assosiate stocks with. ']
  defaultWarehouseId String
  salesTax Tax [note: 'The default tax rate of this article. Might be different for purchase and sales']
  salesTaxId String
  stockEntries StockEntries [not null]
  orderLineItem OrderLineItem [not null]
  packagelineItem PackageLineItem [not null]
  zohoItem ZohoItem [not null]
  xentralArtikel XentralArtikel [not null]
  saleorProductVariant SaleorProductVariant [not null]
  kencoveApiProductVariant KencoveApiProductVariant [not null]
  attributes AttributeValueVariant [not null]
  salesChannelPriceEntries SalesChannelPriceEntry [not null, note: 'the price entries of this variant. Can have different prices
for different sales channels, quantities and dates']
  stockOnHand Int
  isBundleProduct Boolean [not null, default: false]
  isProductBundle Boolean [not null, default: false, note: 'if this product is actually a "just-in-time" bundle, not a composite item.
normally, product bundles don\'t allocate stock on the individual products']
  billOfMaterial BillOfMaterial [not null]
  billOfMaterialChilds BillOfMaterial [not null, note: 'deprecated']
  media Media [not null]

  indexes {
    (sku, tenantId) [unique]
    (id, sku) [unique]
  }
}

Table BillOfMaterial {
  id String [pk]
  tenant Tenant [not null]
  tenantId String [not null]
  productVariant ProductVariant [not null]
  productVariantId String [not null]
  part ProductVariant [not null]
  partId String [not null]
  order Int [note: 'Product parts can have a order in which they appear. Is an optional information']
  quantity Int [not null]

  indexes {
    (productVariantId, partId) [unique]
  }
}

Table XentralCarrier {
  id String [pk]
  eciCarrier Carrier [not null]
  name String [not null]
  xentralProxyApp XentralProxyApp [not null]
  xentralProxyAppId String [not null]

  Note: 'Carriers can have different names in Xentral - depending on the manually created shipping zone. We have to match them to our internal carrier
This is a manually created mapping table.'
}

Table XentralArtikel {
  id String [not null, note: 'Xentral Internal ID']
  xentralNummer String [not null]
  xentralProxyApp XentralProxyApp [not null]
  xentralProxyAppId String [not null]
  productVariant ProductVariant [not null]
  productVariantId String [not null]

  indexes {
    (id, xentralProxyAppId) [unique]
    (xentralNummer, xentralProxyAppId) [unique]
  }
}

Table XentralLieferschein {
  id Int [not null, note: 'Xentral Internal ID']
  status String [not null]
  xentralBelegNr String [not null]
  xentralProxyApp XentralProxyApp [not null]
  xentralProxyAppId String [not null]
  package Package [not null]
  packageId String [not null]

  indexes {
    (id, xentralProxyAppId) [unique]
    (xentralBelegNr, xentralProxyAppId) [unique]
  }
}

Table StockEntries {
  id String [pk]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  tenant Tenant [not null]
  tenantId String [not null]
  warehouse Warehouse [not null]
  warehouseId String [not null]
  productVariant ProductVariant [not null]
  productVariantId String [not null]
  actualCommittedStock Int [not null, default: 0, note: 'Physical stock entries; Stock, that is commited in not finished orders']
  actualAvailableStock Int [not null, default: 0, note: 'Total stock in this warehouse right now']
  actualAvailableForSaleStock Int [not null, default: 0, note: 'Total stock that is not commited and ready for sale']

  indexes {
    (warehouseId, productVariantId, tenantId) [unique]
  }
}

Table BraintreeApp {
  id String [pk]
  enabled Boolean [not null, default: true]
  sandbox Boolean [not null, default: false]
  merchantId String [not null]
  publicKey String [not null]
  privateKey String [not null]
  tenant Tenant [not null]
  tenantId String [not null]
  cronSchedule String [not null, default: '*/30 * * * *']
  cronTimeout Int [not null, default: 800]
  braintreeTransactions BraintreeTransaction [not null]

  Note: 'Internal model to store braintree payment gateway settings for tenants'
}

Table BraintreeTransaction {
  id String [not null, note: 'The Braintree internal ID']
  createdAt DateTime [not null]
  updatedAt DateTime [not null]
  payPalTransactionId String [note: 'If this braintree transaction is a paypal payment, we store the paypal transaction id as well']
  status String
  braintreeApp BraintreeApp [not null]
  braintreeAppId String [not null]
  payment Payment [not null]
  paymentId String [not null]

  indexes {
    (id, braintreeAppId) [unique]
  }
}

Table ElasticCluster {
  id String [pk]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  endpoint String [not null]
  username String [not null]
  password String [not null]
  index String
  elasticLogDrainIntegrations ElasticLogDrainIntegration [not null]
}

Table VercelLogDrainApp {
  id String [pk]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  configurationId String [unique, not null]
  installationId String [unique, not null]
  projectId String [unique]
  teamId String
  userId String [not null]
  webhooks IncomingWebhook [not null]
  elasticLogDrainIntegrations ElasticLogDrainIntegration [not null]
}

Table ElasticLogDrainIntegration {
  id String [pk]
  enabled Boolean [not null, default: true]
  subscription Subscription
  subscriptionId String [unique]
  tenant Tenant [not null]
  tenantId String [not null]
  logDrainApp VercelLogDrainApp [not null]
  logDrainAppId String [unique, not null]
  elasticCluster ElasticCluster [not null]
  elasticClusterId String [unique, not null]
}

Table Package {
  id String [pk, note: 'internal id']
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  active Boolean [not null, default: true, note: 'If this entity is active or got deleted somewhere']
  carrier Carrier [not null]
  state PackageState [not null, default: 'INIT', note: 'The package shipment state']
  isMultiPieceShipment Boolean [not null, default: false, note: 'Optional field if this package is part of a multi piece shipment']
  weightGrams Int [note: 'the parcel weight in grams']
  number String [not null, note: 'A unique identifier for this package like PKG-0034']
  trackingId String [note: 'tracking id from the carrier. Optional, as the package can, exist before we created a tracking number']
  carrierTrackingUrl String [note: 'A link to the carriers tracking page']
  order Order [note: 'The related order to this package']
  orderId String
  events PackageEvent [not null]
  packageLineItems PackageLineItem [not null, note: 'Line Items in this package']
  zohoPackage ZohoPackage [not null]
  saleorPackage SaleorPackage [not null]
  xentralLieferschein XentralLieferschein [not null]
  kencoveApiPackage KencoveApiPackage [not null]
  tenant Tenant [not null]
  tenantId String [not null]

  indexes {
    (number, tenantId) [unique]
  }
}

Table PackageEvent {
  id String [pk]
  time DateTime [not null]
  state PackageState [not null]
  message String
  package Package [not null]
  packageId String [not null]
  location String
  sentEmail TransactionalEmail
}

Table TransactionalEmail {
  id String [pk]
  time DateTime [not null]
  email String [not null]
  sentEmailId String [not null]
  packageEvent PackageEvent [not null]
  packageEventId String [unique, not null]
}

Table TrackingEmailApp {
  id String [pk]
  tenant Tenant [not null]
  tenantId String [not null]
  sendgridTemplates SendgridTemplate [not null]
  defaultLanguage Language [not null]
  sender String [not null]
  replyTo String [not null]
  integration TrackingIntegration [not null]
}

Table SendgridTemplate {
  id String [pk]
  name String [not null]
  packageState PackageState
  language Language [not null]
  subject String [not null]
  templateId String [not null]
  trackingEmailApp TrackingEmailApp [not null]
  trackingEmailAppId String [not null]

  indexes {
    (trackingEmailAppId, language, packageState) [unique]
  }
}

Table DpdApp {
  id String [pk]
  name String
  tenant Tenant [not null]
  tenantId String [unique, not null]
  integration TrackingIntegration
  integrationId String
  webhooks IncomingWebhook [not null]
  trackingIntegrationId String
}

Table EasyPostApp {
  id String [pk]
  name String
  apiKey String [not null]
  tenant Tenant [not null]
  tenantId String [unique, not null]
  webhooks IncomingWebhook [not null]
  integration TrackingIntegration
  integrationId String

  Note: 'EasyPost Model'
}

Table DHLTrackingApp {
  id String [pk]
  enabled Boolean [not null, default: false]
  tenant Tenant [not null]
  tenantId String [unique, not null]
  apiKey String [not null, note: 'From the developer portal. Is different for sandbox and prod. API keys are multi-tenant by default
so we might use them for multiple customer']
  trackingIntegration TrackingIntegration
  trackingIntegrationId String
  cronSchedule String [not null, default: '0 */4 * * *']
  cronTimeout Int [not null, default: 800]

  Note: 'DHL Tracking App model'
}

Table UPSTrackingApp {
  id String [pk]
  enabled Boolean [not null, default: false]
  tenant Tenant [not null]
  tenantId String [unique, not null]
  accessKey String [note: 'From the developer portal. Is the same for sandbox and prod. API keys are multi-tenant by default
so we might use them for multiple customer. It is not clear, how much traffic we can produce with one key
Access key only auth is no longer working - we need Oauth2 now']
  clientId String [not null]
  clientSecret String [not null]
  trackingIntegration TrackingIntegration
  trackingIntegrationId String
  cronSchedule String [not null, default: '0 */4 * * *']
  cronTimeout Int [not null, default: 800]

  Note: 'UPS Tracking App model'
}

Table ProductDataFeedApp {
  id String [pk]
  productDetailStorefrontURL String [not null]
  tenant Tenant [not null]
  tenantId String [unique, not null]
  webhooks IncomingWebhook [not null]
  integration ProductDataFeedIntegration
}

Table DatevApp {
  id String [pk]
  enabled Boolean [not null, default: false]
  cronSchedule String [not null, default: '0 0 * * *']
  cronTimeout Int [not null, default: 800]
  tenant Tenant [not null]
  tenantId String [unique, not null]
  datevContacts DatevContact [not null]
}

Table LogisticsApp {
  id String [pk]
  currentOrdersCustomViewId String [not null]
  nextFiveDaysOrdersCustomViewId String [not null]
  currentBulkOrdersCustomViewId String [not null]
  nextFiveDaysBulkOrdersCustomViewId String [not null]
  tenant Tenant [not null]
  tenantId String [unique, not null]
  webhooks IncomingWebhook [not null]
  integration LogisticsIntegration
}

Table KencoveApiApp {
  id String [pk]
  enabled Boolean [not null, default: false]
  cronSchedule String [not null, default: '5 * * * *']
  cronTimeout Int [not null, default: 800]
  tenant Tenant [not null]
  tenantId String [unique, not null]
  clientId String [not null]
  clientSecret String [not null]
  tokenEndpoint String [not null, note: 'Token endpoint for the OAuth flow']
  apiEndpoint String [not null, note: 'The actual api endpoint. Is different for sandbox and prod']
  scope String [not null, note: 'The scopes we need to access the api. Just comma separated list']
  skipCategories String [note: 'A user can manually mark categories, that should be skipped when syncing.
This is a comma separated list of category ids']
  kencoveApiContacts KencoveApiContact [not null]
  kencoveApiAddresses KencoveApiAddress [not null]
  kencoveApiProductVariants KencoveApiProductVariant [not null]
  kencoveApiAttributes KencoveApiAttribute [not null]
  kencoveApiCategories KencoveApiCategory [not null]
  kencoveApiPackages KencoveApiPackage [not null]
  kencoveApiWarehouses KencoveApiWarehouse [not null]
  kencoveApiOrders KencoveApiOrder [not null]
  kencoveApiProductTypes KencoveApiProductType [not null]

  Note: 'The custom app for the kencove api. Using OAuth for authentication'
}

Table KencoveApiProductType {
  id String [not null]
  kencoveApiApp KencoveApiApp [not null]
  kencoveApiAppId String [not null]
  productType ProductType [not null]
  productTypeId String [not null]

  indexes {
    (id, kencoveApiAppId) [unique]
  }
}

Table KencoveApiWarehouse {
  id String [not null]
  warehouse Warehouse [not null]
  warehouseId String [not null]
  kencoveApiApp KencoveApiApp [not null]
  kencoveApiAppId String [not null]

  indexes {
    (id, kencoveApiAppId) [unique]
  }
}

Table KencoveApiOrder {
  id String [not null]
  createdAt DateTime [not null]
  updatedAt DateTime [not null]
  order Order [not null]
  orderId String [not null]
  kencoveApiApp KencoveApiApp [not null]
  kencoveApiAppId String [not null]

  indexes {
    (id, kencoveApiAppId) [unique]
  }
}

Table KencoveApiCategory {
  id String [not null]
  createdAt DateTime [not null]
  updatedAt DateTime [not null]
  kencoveApiApp KencoveApiApp [not null]
  kencoveApiAppId String [not null]
  category Category [not null]
  categoryId String [not null]

  indexes {
    (id, kencoveApiAppId) [unique]
  }
}

Table KencoveApiAttribute {
  id String [not null]
  createdAt DateTime [not null]
  updatedAt DateTime [not null]
  attribute Attribute [not null]
  attributeId String [not null]
  kencoveApiApp KencoveApiApp [not null]
  kencoveApiAppId String [not null]

  indexes {
    (id, kencoveApiAppId) [unique]
  }
}

Table KencoveApiPackage {
  id String [not null]
  createdAt DateTime [not null]
  updatedAt DateTime [not null]
  package Package [not null]
  packageId String [not null]
  kencoveApiApp KencoveApiApp [not null]
  kencoveApiAppId String [not null]

  indexes {
    (id, kencoveApiAppId) [unique]
  }
}

Table KencoveApiProductVariant {
  id String [not null]
  createdAt DateTime [not null]
  updatedAt DateTime [not null]
  productId String [note: 'KENCOVE API product ID - not internal schemabase id']
  productVariant ProductVariant [not null]
  productVariantId String [not null]
  kencoveApiApp KencoveApiApp [not null]
  kencoveApiAppId String [not null]

  indexes {
    (id, kencoveApiAppId) [unique]
  }

  Note: 'Kencove custom productVariant model'
}

Table KencoveApiAddress {
  id String [not null]
  createdAt DateTime [not null]
  updatedAt DateTime [not null]
  address Address [not null]
  addressId String [not null]
  kencoveApiApp KencoveApiApp [not null]
  kencoveApiAppId String [not null]

  indexes {
    (id, kencoveApiAppId) [unique]
  }

  Note: 'Kencove custom address model. Relation between internal address
object and kencove address object'
}

Table KencoveApiContact {
  id String [not null]
  contact Contact [not null]
  contactId String [not null]
  kencoveApiApp KencoveApiApp [not null]
  kencoveApiAppId String [not null]

  indexes {
    (id, kencoveApiAppId) [unique]
  }

  Note: 'Kencove custom customer model. Relation between internal customer
object and kencove customer object'
}

Table ReviewsioApp {
  id String [pk]
  enabled Boolean [not null, default: false]
  storeId String [not null, note: 'The store id coming from reviews.io. For example "snocks" or "kencove-com"']
  cronSchedule String [not null, default: '0 8 * * *']
  cronTimeout Int [not null, default: 800]
  tenant Tenant [not null]
  tenantId String [not null]
}

Table InternalDataApp {
  id String [pk]
  enabled Boolean [not null, default: false]
  cronSchedule String [not null, default: '0 1 * * *', note: 'The internal data enrichment / cleaning workflows run normally once per day']
  cronTimeout Int [not null, default: 800]
  tenant Tenant [not null]
  tenantId String [not null]
}

Table ZohoApp {
  id String [pk]
  enabled Boolean [not null, default: true]
  orgId String [not null]
  clientId String [not null]
  clientSecret String [not null]
  datacenter String [not null, default: '.eu', note: 'Set the datacenter of this ZohoApp. One of: ".com" | ".eu" | ".in" | ".com.au" | ".jp";']
  tenant Tenant [not null]
  tenantId String [not null]
  orgLanguage Language [not null, default: 'DE', note: 'The language, that this org is set to. Some API fields like the country name work with translated names, so we need to know the orgs language']
  customFieldReadyToFulfill String [note: 'the cf_api name from Zoho Settings of the custom field']
  customFieldVoucherCode String [note: 'the cf_api name from Zoho Settings of the custom field']
  customFieldCustomerNote String [note: 'the cf_api name from Zoho Settings of the custom field used to save a note to the customer']
  customFieldTrackingNotifications String [note: 'the cf_api name for Zoho settings of the custom field used to enable or disable tracking notifications']
  customFieldDatevCustomerId String [note: 'the cf_api name where we store the DATEV kreditor / debitor ID, if we have a running datev integration']
  cronSchedule String [not null, default: '*/30 * * * *']
  cronTimeout Int [not null, default: 800]
  syncContacts Boolean [not null, default: false]
  syncWarehouses Boolean [not null, default: false]
  syncOrders Boolean [not null, default: false]
  syncInvoices Boolean [not null, default: false]
  syncPayments Boolean [not null, default: false]
  syncProductStocks Boolean [not null, default: false]
  syncProducts Boolean [not null, default: false]
  syncPackages Boolean [not null, default: false]
  syncTaxes Boolean [not null, default: false]
  logisticsIntegrations LogisticsIntegration [not null]
  trackingIntegrations TrackingIntegration [not null]
  webhooks IncomingWebhook [not null]
  zohoPayments ZohoPayment [not null]
  zohoItems ZohoItem [not null]
  zohoWarehouses ZohoWarehouse [not null]
  zohoContacts ZohoContact [not null]
  zohoInvoices ZohoInvoice [not null]
  zohoSalesOrder ZohoSalesOrder [not null]
  zohoPackageLineItems ZohoPackageLineItem [not null]
  zohoOrderLineItems ZohoOrderLineItem [not null]
  zohoTaxes ZohoTax [not null]
  zohoContactPersons ZohoContactPerson [not null]
  zohoAddresses ZohoAddress [not null]
  zohoPackages ZohoPackage [not null]
  zohoAccounts ZohoBankAccount [not null]
}

Table SaleorApp {
  id String [pk]
  domain String [unique, not null]
  apiUrl String [unique, not null, note: 'the full saleor api url, inclusive /graphql: https://testing--saleor-puf.eu.saleor.cloud/graphql/']
  name String [not null]
  installedSaleorApps InstalledSaleorApp [not null]
  tenant Tenant
  tenantId String

  indexes {
    (domain, tenantId) [unique]
    (id, domain) [unique]
  }
}

Table InstalledSaleorApp {
  id String [pk]
  enabled Boolean [not null, default: true]
  type SaleorAppType
  cronSchedule String [not null, default: '*/30 * * * *']
  cronTimeout Int [not null, default: 800]
  orderPrefix String [not null, default: 'STORE']
  webhooks IncomingWebhook [not null]
  defaultWarehouse Warehouse [note: 'The default warehouse is always used, when warehouse information is missing for example for packages or items']
  defaultWarehouseId String
  token String [not null]
  channelSlug String
  saleorApp SaleorApp [not null]
  saleorAppId String [not null]
  domain String [not null]
  cookies Cookies [not null]
  syncCustomers Boolean [not null, default: false]
  syncWarehouses Boolean [not null, default: false]
  syncOrders Boolean [not null, default: false]
  syncInvoices Boolean [not null, default: false]
  syncPayments Boolean [not null, default: false]
  syncProductStocks Boolean [not null, default: false]
  syncProducts Boolean [not null, default: false]
  syncPackages Boolean [not null, default: false]
  syncTaxes Boolean [not null, default: false]
  syncCategories Boolean [not null, default: false]
  productDataFeedIntegration ProductDataFeedIntegration [not null]
  saleorPayment SaleorPayment [not null]
  saleorPaymentGateway SaleorPaymentGateway [not null]
  saleorProductVariant SaleorProductVariant [not null]
  saleorWarehouse SaleorWarehouse [not null]
  saleorOrder SaleorOrder [not null]
  saleorOrderLineItem SaleorOrderLineItem [not null]
  saleorFulfilmentLines SaleorFulfillmentLine [not null]
  saleorPackage SaleorPackage [not null]
  saleorCustomers SaleorCustomer [not null]
  saleorCategory SaleorCategory [not null]
  saleorProductType SaleorProductType [not null]
  saleorAttribute SaleorAttribute [not null]
  saleorProduct SaleorProduct [not null]
  saleorChannel SaleorChannel [not null]

  indexes {
    (domain, channelSlug) [unique]
  }
}

Table Tenant {
  id String [pk]
  name String [not null]
  subscriptions Subscription [not null]
  saleorApps SaleorApp [not null]
  zohoApps ZohoApp [not null]
  productdatafeedApps ProductDataFeedApp [not null]
  strapiApps StrapiApp [not null]
  productDataFeedIntegrations ProductDataFeedIntegration [not null]
  logisticsIntegrations LogisticsIntegration [not null]
  logisticsApps LogisticsApp [not null]
  trackingEmailApps TrackingEmailApp [not null]
  dpdApps DpdApp [not null]
  trackingIntegrations TrackingIntegration [not null]
  elasticLogDrainIntegration ElasticLogDrainIntegration [not null]
  xentralProxyApp XentralProxyApp [not null]
  order Order [not null]
  contact Contact [not null]
  company Company [not null]
  product Product [not null]
  productVariant ProductVariant [not null]
  payment Payment [not null]
  paymentMethods PaymentMethod [not null]
  warehouse Warehouse [not null]
  invoice Invoice [not null]
  orderLineItem OrderLineItem [not null]
  packageLineItem PackageLineItem [not null]
  braintree BraintreeApp [not null]
  tax Tax [not null]
  package Package [not null]
  stockEntries StockEntries [not null]
  addresses Address [not null]
  billOfMaterial BillOfMaterial [not null]
  easyPost EasyPostApp [not null]
  DHLTrackingApps DHLTrackingApp [not null]
  datevApps DatevApp [not null]
  UPSTrackingApps UPSTrackingApp [not null]
  attributes Attribute [not null]
  attributeProductValues AttributeValueProduct [not null]
  attributeVariantValues AttributeValueVariant [not null]
  rewiewsioApps ReviewsioApp [not null]
  eci_User_Tenants eci_User_Tenant [not null]
  kencoveApiApps KencoveApiApp [not null]
  productTags ProductTag [not null]
  categories Category [not null]
  productTypes ProductType [not null]
  media Media [not null]
  salesChannels SalesChannel [not null]
  salesChannelPriceEntry SalesChannelPriceEntry [not null]
  internalDataApps InternalDataApp [not null]
}

Table Subscription {
  id String [pk]
  tenant Tenant [not null]
  tenantId String [not null]
  payedUntil DateTime
  productDataFeedIntegration ProductDataFeedIntegration
  logisticsIntegration LogisticsIntegration
  trackingIntegration TrackingIntegration
  elasticLogDrainIntegration ElasticLogDrainIntegration [not null]
  xentralProxyApp XentralProxyApp [not null]
}

Table TrackingIntegration {
  id String [pk]
  enabled Boolean [not null, default: true]
  subscription Subscription
  subscriptionId String [unique]
  tenant Tenant [not null]
  tenantId String [not null]
  dpdApps DpdApp [not null]
  dhlTrackingApps DHLTrackingApp [not null]
  upsTrackingApps UPSTrackingApp [not null]
  easyPostApps EasyPostApp [not null]
  trackingEmailApp TrackingEmailApp [not null]
  trackingEmailAppId String [not null]
  zohoApp ZohoApp
  zohoAppId String
}

Table ProductDataFeedIntegration {
  id String [pk]
  enabled Boolean [not null, default: true]
  subscription Subscription
  subscriptionId String [unique]
  tenant Tenant [not null]
  tenantId String [not null]
  productDataFeedApp ProductDataFeedApp [not null]
  productDataFeedAppId String [unique, not null]
  installedSaleorApp InstalledSaleorApp
  installedSaleorAppId String
}

Table CronJobState {
  id String [pk]
  lastRun DateTime
  lastRunStatus CronJobStatus
  locked Boolean [not null, default: false, note: 'You can lock cron runs to prevent running in parallel for sensitive services like Xentral']
}

Table LogisticsIntegration {
  id String [pk]
  enabled Boolean [not null, default: true]
  subscription Subscription
  subscriptionId String [unique]
  tenant Tenant [not null]
  tenantId String [not null]
  zohoApp ZohoApp [not null]
  zohoAppId String [not null]
  logisticsApp LogisticsApp [not null]
  logisticsAppId String [unique, not null]
}

Table StrapiApp {
  id String [pk]
  name String [not null]
  webhooks IncomingWebhook [not null]
  tenant Tenant [not null]
  tenantId String [not null]
}

Table XentralProxyApp {
  id String [pk]
  enabled Boolean [not null, default: true]
  subscription Subscription
  subscriptionId String
  tenant Tenant [not null]
  tenantId String [not null]
  warehouse Warehouse [not null]
  warehouseId String [not null]
  username String [not null]
  password String [not null]
  projectId Int [not null]
  url String [not null]
  cronSchedule String [not null, default: '*/30 * * * *']
  cronTimeout Int [not null, default: 800]
  syncOrders Boolean [not null, default: false]
  syncProducts Boolean [not null, default: false]
  syncPackages Boolean [not null, default: false]
  xentralProxyAuftraege XentralProxyAuftrag [not null]
  xentralArtikel XentralArtikel [not null]
  XentralLieferscheine XentralLieferschein [not null]
  xentralCarrier XentralCarrier [not null]
}

Table XentralProxyAuftrag {
  id Int [not null, note: 'Xentral internal ID']
  xentralBelegNr String [not null]
  xentralProxyApp XentralProxyApp [not null]
  xentralProxyAppId String [not null]
  order Order [not null]
  orderId String [not null]
  status String [note: 'The status in Xentral']

  indexes {
    (id, xentralProxyAppId) [unique]
    (xentralBelegNr, xentralProxyAppId) [unique]
  }
}

Table IncomingWebhook {
  id String [pk]
  name String
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  secret SecretKey
  dpdApp DpdApp
  dpdAppId String
  easyPostApp EasyPostApp
  easyPostAppId String
  logisticsApp LogisticsApp
  logisticsAppId String
  productDataFeedApp ProductDataFeedApp
  productDataFeedAppId String
  zohoApp ZohoApp
  zohoAppId String
  strapiApp StrapiApp
  strapiAppId String
  installedSaleorApp InstalledSaleorApp
  installedSaleorAppId String
  vercelLogDrainApp VercelLogDrainApp
  vercelLogDrainAppId String
}

Table SecretKey {
  id String [pk]
  name String
  secret String [not null]
  createdAt DateTime [default: `now()`, not null]
  incomingWebhook IncomingWebhook [not null]
  incomingWebhookId String [unique, not null]
}

Enum eci_User_Tenant_Role {
  MEMBER
  OWNER
}

Enum ZohoSalesOrderStatus {
  draft
  confirmed
  fulfilled
  shipped
}

Enum DatevContactType {
  DEBITOR
  KREDITOR
}

Enum PaymentMethodType {
  paypal
  card
  banktransfer
}

Enum GatewayType {
  braintree
  paypal
  stripe
  banktransfer
  authorizeNet
}

Enum Currency {
  EUR
  USD
}

Enum OrderStatus {
  draft
  unconfirmed
  confirmed
  closed
  canceled
}

Enum OrderPaymentStatus {
  unpaid
  fullyPaid
  partiallyPaid
  fullyRefunded
  partiallyRefunded
}

Enum OrderShipmentStatus {
  pending
  partiallyShipped
  shipped
  delivered
}

Enum OrderInvoiceStatus {
  notInvoiced
  invoiced
}

Enum CountryCode {
  AD
  AE
  AF
  AG
  AI
  AL
  AM
  AO
  AQ
  AR
  AS
  AT
  AU
  AW
  AX
  AZ
  BA
  BB
  BD
  BE
  BF
  BG
  BH
  BI
  BJ
  BL
  BM
  BN
  BO
  BQ
  BR
  BS
  BT
  BV
  BW
  BY
  BZ
  CA
  CC
  CD
  CF
  CG
  CH
  CI
  CK
  CL
  CM
  CN
  CO
  CR
  CU
  CV
  CW
  CX
  CY
  CZ
  DE
  DJ
  DK
  DM
  DO
  DZ
  EC
  EE
  EG
  EH
  ER
  ES
  ET
  EU
  FI
  FJ
  FK
  FM
  FO
  FR
  GA
  GB
  GD
  GE
  GF
  GG
  GH
  GI
  GL
  GM
  GN
  GP
  GQ
  GR
  GS
  GT
  GU
  GW
  GY
  HK
  HM
  HN
  HR
  HT
  HU
  ID
  IE
  IL
  IM
  IN
  IO
  IQ
  IR
  IS
  IT
  JE
  JM
  JO
  JP
  KE
  KG
  KH
  KI
  KM
  KN
  KP
  KR
  KW
  KY
  KZ
  LA
  LB
  LC
  LI
  LK
  LR
  LS
  LT
  LU
  LV
  LY
  MA
  MC
  MD
  ME
  MF
  MG
  MH
  MK
  ML
  MM
  MN
  MO
  MP
  MQ
  MR
  MS
  MT
  MU
  MV
  MW
  MX
  MY
  MZ
  NA
  NC
  NE
  NF
  NG
  NI
  NL
  NO
  NP
  NR
  NU
  NZ
  OM
  PA
  PE
  PF
  PG
  PH
  PK
  PL
  PM
  PN
  PR
  PS
  PT
  PW
  PY
  QA
  RE
  RO
  RS
  RU
  RW
  SA
  SB
  SC
  SD
  SE
  SG
  SH
  SI
  SJ
  SK
  SL
  SM
  SN
  SO
  SR
  SS
  ST
  SV
  SX
  SY
  SZ
  TC
  TD
  TF
  TG
  TH
  TJ
  TK
  TL
  TM
  TN
  TO
  TR
  TT
  TV
  TW
  TZ
  UA
  UG
  UM
  US
  UY
  UZ
  VA
  VC
  VE
  VG
  VI
  VN
  VU
  WF
  WS
  YE
  YT
  ZA
  ZM
  ZW
}

Enum AttributeType {
  DROPDOWN
  MULTISELECT
  FILE
  PRODUCT_REFERENCE
  VARIANT_REFERENCE
  NUMERIC
  RICH_TEXT
  PLAIN_TEXT
  SWATCH
  BOOLEAN
  DATE
  DATE_TIME
}

Enum MediaPlacementType {
  BANNER
  THUMBNAIL
}

Enum PackageState {
  INIT
  INFORMATION_RECEIVED
  IN_TRANSIT
  OUT_FOR_DELIVERY
  FAILED_ATTEMPT
  DELIVERED
  AVAILABLE_FOR_PICKUP
  EXCEPTION
  EXPIRED
  PENDING
}

Enum Carrier {
  DPD
  DHL
  UPS
  HERMES
  PICKUP
  FEDEX
  USPS
  UNKNOWN
  BULK
}

Enum Language {
  DE
  EN
}

Enum SaleorAppType {
  productdatafeed
  entitysync
  prepayment
}

Enum CronJobStatus {
  success
  failure
}

Ref: eci_User_Tenant.userId > eci_User.id [delete: Cascade]

Ref: eci_User_Tenant.tenantId > Tenant.id [delete: Cascade]

Ref: Cookies.installedSaleorAppId > InstalledSaleorApp.id

Ref: SaleorProductType.installedSaleorAppId > InstalledSaleorApp.id [delete: Cascade]

Ref: SaleorProductType.productTypeId > ProductType.id [delete: Cascade]

Ref: SaleorAttribute.attributeId > Attribute.id [delete: Cascade]

Ref: SaleorAttribute.installedSaleorAppId > InstalledSaleorApp.id [delete: Cascade]

Ref: SaleorOrder.(orderId, orderNumber) > Order.(id, orderNumber) [delete: Cascade]

Ref: SaleorOrder.installedSaleorAppId > InstalledSaleorApp.id [delete: Cascade]

Ref: SaleorCategory.categoryId > Category.id [delete: Cascade]

Ref: SaleorCategory.installedSaleorAppId > InstalledSaleorApp.id [delete: Cascade]

Ref: SaleorCustomer.customerId > Contact.id [delete: Cascade]

Ref: SaleorCustomer.installedSaleorAppId > InstalledSaleorApp.id [delete: Cascade]

Ref: SaleorChannel.salesChannelId > SalesChannel.id [delete: Cascade]

Ref: SaleorChannel.installedSaleorAppId > InstalledSaleorApp.id [delete: Cascade]

Ref: SaleorPackage.packageId > Package.id [delete: Cascade]

Ref: SaleorPackage.installedSaleorAppId > InstalledSaleorApp.id [delete: Cascade]

Ref: SaleorFulfillmentLine.packageLineItemId > PackageLineItem.id [delete: Cascade]

Ref: SaleorFulfillmentLine.installedSaleorAppId > InstalledSaleorApp.id [delete: Cascade]

Ref: SaleorOrderLineItem.orderLineItemId > OrderLineItem.id [delete: Cascade]

Ref: SaleorOrderLineItem.installedSaleorAppId > InstalledSaleorApp.id [delete: Cascade]

Ref: SaleorPayment.(saleorOrderId, installedSaleorAppId) > SaleorOrder.(id, installedSaleorAppId)

Ref: SaleorPayment.paymentId > Payment.id [delete: Cascade]

Ref: SaleorPayment.installedSaleorAppId > InstalledSaleorApp.id [delete: Cascade]

Ref: SaleorProduct.productId > Product.id [delete: Cascade]

Ref: SaleorProduct.installedSaleorAppId > InstalledSaleorApp.id [delete: Cascade]

Ref: SaleorProductVariant.productVariantId > ProductVariant.id [delete: Cascade]

Ref: SaleorProductVariant.installedSaleorAppId > InstalledSaleorApp.id [delete: Cascade]

Ref: SaleorWarehouse.warehouseId > Warehouse.id [delete: Cascade]

Ref: SaleorWarehouse.installedSaleorAppId > InstalledSaleorApp.id [delete: Cascade]

Ref: SaleorPaymentGateway.installedSaleorAppId > InstalledSaleorApp.id [delete: Cascade]

Ref: ZohoItem.productVariantId > ProductVariant.id [delete: Cascade]

Ref: ZohoItem.zohoAppId > ZohoApp.id [delete: Cascade]

Ref: ZohoPackage.packageId > Package.id [delete: Cascade]

Ref: ZohoPackage.zohoAppId > ZohoApp.id [delete: Cascade]

Ref: ZohoContact.zohoAppId > ZohoApp.id [delete: Cascade]

Ref: ZohoContactPerson.(zohoContactId, zohoAppId) > ZohoContact.(id, zohoAppId) [delete: Cascade]

Ref: ZohoContactPerson.contactId > Contact.id [delete: Cascade]

Ref: ZohoContactPerson.zohoAppId > ZohoApp.id [delete: Cascade]

Ref: ZohoAddress.addressId > Address.id [delete: Cascade]

Ref: ZohoAddress.(zohoContactId, zohoAppId) > ZohoContact.(id, zohoAppId) [delete: Cascade]

Ref: ZohoAddress.zohoAppId > ZohoApp.id [delete: Cascade]

Ref: ZohoSalesOrder.(zohoContactId, zohoAppId) > ZohoContact.(id, zohoAppId) [delete: Cascade]

Ref: ZohoSalesOrder.orderId > Order.id [delete: Cascade]

Ref: ZohoSalesOrder.zohoAppId > ZohoApp.id [delete: Cascade]

Ref: ZohoSalesOrder.(zohoContactPersonId, zohoContactPersonZohoAppId) > ZohoContactPerson.(id, zohoAppId)

Ref: ZohoInvoice.invoiceId > Invoice.id [delete: Cascade]

Ref: ZohoInvoice.zohoAppId > ZohoApp.id [delete: Cascade]

Ref: ZohoPayment.paymentId > Payment.id [delete: Cascade]

Ref: ZohoPayment.zohoAppId > ZohoApp.id [delete: Cascade]

Ref: ZohoBankAccount.paymentMethodId > PaymentMethod.id

Ref: ZohoBankAccount.zohoAppId > ZohoApp.id [delete: Cascade]

Ref: ZohoWarehouse.warehouseId > Warehouse.id [delete: Cascade]

Ref: ZohoWarehouse.zohoAppId > ZohoApp.id [delete: Cascade]

Ref: ZohoTax.taxId > Tax.id [delete: Cascade]

Ref: ZohoTax.zohoAppId > ZohoApp.id [delete: Cascade]

Ref: ZohoOrderLineItem.orderLineItemId > OrderLineItem.id [delete: Cascade]

Ref: ZohoOrderLineItem.zohoAppId > ZohoApp.id [delete: Cascade]

Ref: ZohoPackageLineItem.packagelineItemId > PackageLineItem.id [delete: Cascade]

Ref: ZohoPackageLineItem.zohoAppId > ZohoApp.id [delete: Cascade]

Ref: ZohoPackageLineItem.orderLineItemId > OrderLineItem.id

Ref: Invoice.tenantId > Tenant.id [delete: Cascade]

Ref: Invoice.mainContactId > Contact.id

Ref: DatevContact.contactId > Contact.id [delete: Cascade]

Ref: DatevContact.datevAppId > DatevApp.id [delete: Cascade]

Ref: Tax.tenantId > Tenant.id [delete: Cascade]

Ref: Payment.orderId > Order.id

Ref: Payment.mainContactId > Contact.id

Ref: Payment.tenantId > Tenant.id [delete: Cascade]

Ref: Payment.paymentMethodId > PaymentMethod.id

Ref: PaymentMethod.(saleorPaymentGatewayId, saleorPaymentGatewayInstalledSaleorAppId) > SaleorPaymentGateway.(id, installedSaleorAppId) [delete: Cascade]

Ref: PaymentMethod.tenantId > Tenant.id [delete: Cascade]

Ref: Company.tenantId > Tenant.id [delete: Cascade]

Ref: Contact.companyId > Company.id

Ref: Contact.tenantId > Tenant.id [delete: Cascade]

Ref: Warehouse.tenantId > Tenant.id [delete: Cascade]

Ref: OrderLineItem.orderId > Order.id [delete: Cascade]

Ref: OrderLineItem.taxId > Tax.id [delete: Cascade]

Ref: OrderLineItem.warehouseId > Warehouse.id

Ref: OrderLineItem.(productVariantId, sku) > ProductVariant.(id, sku)

Ref: OrderLineItem.tenantId > Tenant.id [delete: Cascade]

Ref: PackageLineItem.warehouseId > Warehouse.id

Ref: PackageLineItem.packageId > Package.id [delete: Cascade]

Ref: PackageLineItem.(tenantId, sku) > ProductVariant.(tenantId, sku)

Ref: PackageLineItem.tenantId > Tenant.id [delete: Cascade]

Ref: Order.shippingPriceTaxId > Tax.id [delete: Cascade]

Ref: Order.mainContactId > Contact.id

Ref: Order.shippingAddressId > Address.id [delete: Cascade]

Ref: Order.billingAddressId > Address.id [delete: Cascade]

Ref: Order.tenantId > Tenant.id [delete: Cascade]

Ref: SalesChannel.tenantId > Tenant.id [delete: Cascade]

Ref: SalesChannelPriceEntry.salesChannelId > SalesChannel.id [delete: Cascade]

Ref: SalesChannelPriceEntry.productVariantId > ProductVariant.id

Ref: SalesChannelPriceEntry.tenantId > Tenant.id [delete: Cascade]

Ref: Address.tenantId > Tenant.id [delete: Cascade]

Ref: Attribute.tenantId > Tenant.id [delete: Cascade]

Ref: Media.tenantId > Tenant.id [delete: Cascade]

Ref: AttributeValueProduct.attributeId > Attribute.id [delete: Cascade]

Ref: AttributeValueProduct.productId > Product.id

Ref: AttributeValueProduct.tenantId > Tenant.id [delete: Cascade]

Ref: AttributeValueVariant.attributeId > Attribute.id [delete: Cascade]

Ref: AttributeValueVariant.productVariantId > ProductVariant.id

Ref: AttributeValueVariant.tenantId > Tenant.id [delete: Cascade]

Ref: ProductTag.tenantId > Tenant.id [delete: Cascade]

Ref: Category.parentCategoryId - Category.id [delete: No Action]

Ref: Category.tenantId > Tenant.id [delete: Cascade]

Ref: ProductType.tenantId > Tenant.id [delete: Cascade]

Ref: ProductTypeAttribute.productTypeId > ProductType.id

Ref: ProductTypeAttribute.attributeId > Attribute.id

Ref: ProductToFrequentlyBoughtWith.productId > Product.id

Ref: ProductToFrequentlyBoughtWith.relatedProductId > Product.id

Ref: Product.productTypeId > ProductType.id

Ref: Product.categoryId > Category.id [delete: No Action]

Ref: Product.tenantId > Tenant.id [delete: Cascade]

Ref: ProductVariant.productId > Product.id [delete: Cascade]

Ref: ProductVariant.tenantId > Tenant.id [delete: Cascade]

Ref: ProductVariant.defaultWarehouseId > Warehouse.id [delete: Cascade]

Ref: ProductVariant.salesTaxId > Tax.id

Ref: BillOfMaterial.tenantId > Tenant.id [delete: Cascade]

Ref: BillOfMaterial.productVariantId > ProductVariant.id [delete: Cascade]

Ref: BillOfMaterial.partId > ProductVariant.id [delete: Cascade]

Ref: XentralCarrier.xentralProxyAppId > XentralProxyApp.id

Ref: XentralArtikel.xentralProxyAppId > XentralProxyApp.id

Ref: XentralArtikel.productVariantId > ProductVariant.id

Ref: XentralLieferschein.xentralProxyAppId > XentralProxyApp.id

Ref: XentralLieferschein.packageId > Package.id [delete: Cascade]

Ref: StockEntries.tenantId > Tenant.id [delete: Cascade]

Ref: StockEntries.warehouseId > Warehouse.id [delete: Cascade]

Ref: StockEntries.productVariantId > ProductVariant.id [delete: Cascade]

Ref: BraintreeApp.tenantId > Tenant.id [delete: Cascade]

Ref: BraintreeTransaction.braintreeAppId > BraintreeApp.id [delete: Cascade]

Ref: BraintreeTransaction.paymentId > Payment.id [delete: Cascade]

Ref: ElasticLogDrainIntegration.subscriptionId > Subscription.id

Ref: ElasticLogDrainIntegration.tenantId > Tenant.id [delete: Cascade]

Ref: ElasticLogDrainIntegration.logDrainAppId > VercelLogDrainApp.id

Ref: ElasticLogDrainIntegration.elasticClusterId > ElasticCluster.id

Ref: Package.orderId > Order.id [delete: Cascade]

Ref: Package.tenantId > Tenant.id [delete: Cascade]

Ref: PackageEvent.packageId > Package.id [delete: Cascade]

Ref: TransactionalEmail.packageEventId - PackageEvent.id

Ref: TrackingEmailApp.tenantId > Tenant.id [delete: Cascade]

Ref: SendgridTemplate.trackingEmailAppId > TrackingEmailApp.id [delete: Cascade]

Ref: DpdApp.tenantId > Tenant.id [delete: Cascade]

Ref: DpdApp.integrationId > TrackingIntegration.id

Ref: EasyPostApp.tenantId > Tenant.id [delete: Cascade]

Ref: EasyPostApp.integrationId > TrackingIntegration.id

Ref: DHLTrackingApp.tenantId > Tenant.id [delete: Cascade]

Ref: DHLTrackingApp.trackingIntegrationId > TrackingIntegration.id

Ref: UPSTrackingApp.tenantId > Tenant.id [delete: Cascade]

Ref: UPSTrackingApp.trackingIntegrationId > TrackingIntegration.id

Ref: ProductDataFeedApp.tenantId > Tenant.id [delete: Cascade]

Ref: DatevApp.tenantId > Tenant.id [delete: Cascade]

Ref: LogisticsApp.tenantId > Tenant.id [delete: Cascade]

Ref: KencoveApiApp.tenantId > Tenant.id [delete: Cascade]

Ref: KencoveApiProductType.kencoveApiAppId > KencoveApiApp.id [delete: Cascade]

Ref: KencoveApiProductType.productTypeId > ProductType.id [delete: Cascade]

Ref: KencoveApiWarehouse.warehouseId > Warehouse.id [delete: Cascade]

Ref: KencoveApiWarehouse.kencoveApiAppId > KencoveApiApp.id [delete: Cascade]

Ref: KencoveApiOrder.orderId > Order.id [delete: Cascade]

Ref: KencoveApiOrder.kencoveApiAppId > KencoveApiApp.id [delete: Cascade]

Ref: KencoveApiCategory.kencoveApiAppId > KencoveApiApp.id [delete: Cascade]

Ref: KencoveApiCategory.categoryId > Category.id [delete: Cascade]

Ref: KencoveApiAttribute.attributeId > Attribute.id [delete: Cascade]

Ref: KencoveApiAttribute.kencoveApiAppId > KencoveApiApp.id [delete: Cascade]

Ref: KencoveApiPackage.packageId > Package.id [delete: Cascade]

Ref: KencoveApiPackage.kencoveApiAppId > KencoveApiApp.id [delete: Cascade]

Ref: KencoveApiProductVariant.productVariantId > ProductVariant.id [delete: Cascade]

Ref: KencoveApiProductVariant.kencoveApiAppId > KencoveApiApp.id [delete: Cascade]

Ref: KencoveApiAddress.addressId > Address.id

Ref: KencoveApiAddress.kencoveApiAppId > KencoveApiApp.id

Ref: KencoveApiContact.contactId > Contact.id [delete: Cascade]

Ref: KencoveApiContact.kencoveApiAppId > KencoveApiApp.id [delete: Cascade]

Ref: ReviewsioApp.tenantId > Tenant.id [delete: Cascade]

Ref: InternalDataApp.tenantId > Tenant.id [delete: Cascade]

Ref: ZohoApp.tenantId > Tenant.id [delete: Cascade]

Ref: SaleorApp.tenantId > Tenant.id [delete: Cascade]

Ref: InstalledSaleorApp.defaultWarehouseId > Warehouse.id

Ref: InstalledSaleorApp.(saleorAppId, domain) > SaleorApp.(id, domain) [delete: Cascade]

Ref: Subscription.tenantId > Tenant.id [delete: Cascade]

Ref: TrackingIntegration.subscriptionId - Subscription.id

Ref: TrackingIntegration.tenantId > Tenant.id [delete: Cascade]

Ref: TrackingIntegration.trackingEmailAppId > TrackingEmailApp.id

Ref: TrackingIntegration.zohoAppId > ZohoApp.id

Ref: ProductDataFeedIntegration.subscriptionId - Subscription.id

Ref: ProductDataFeedIntegration.tenantId > Tenant.id [delete: Cascade]

Ref: ProductDataFeedIntegration.productDataFeedAppId - ProductDataFeedApp.id

Ref: ProductDataFeedIntegration.installedSaleorAppId > InstalledSaleorApp.id

Ref: LogisticsIntegration.subscriptionId - Subscription.id

Ref: LogisticsIntegration.tenantId > Tenant.id [delete: Cascade]

Ref: LogisticsIntegration.zohoAppId > ZohoApp.id

Ref: LogisticsIntegration.logisticsAppId - LogisticsApp.id

Ref: StrapiApp.tenantId > Tenant.id [delete: Cascade]

Ref: XentralProxyApp.subscriptionId > Subscription.id

Ref: XentralProxyApp.tenantId > Tenant.id [delete: Cascade]

Ref: XentralProxyApp.warehouseId > Warehouse.id [delete: Cascade]

Ref: XentralProxyAuftrag.xentralProxyAppId > XentralProxyApp.id

Ref: XentralProxyAuftrag.orderId > Order.id

Ref: IncomingWebhook.dpdAppId > DpdApp.id [delete: Cascade]

Ref: IncomingWebhook.easyPostAppId > EasyPostApp.id [delete: Cascade]

Ref: IncomingWebhook.logisticsAppId > LogisticsApp.id [delete: Cascade]

Ref: IncomingWebhook.productDataFeedAppId > ProductDataFeedApp.id [delete: Cascade]

Ref: IncomingWebhook.zohoAppId > ZohoApp.id [delete: Cascade]

Ref: IncomingWebhook.strapiAppId > StrapiApp.id [delete: Cascade]

Ref: IncomingWebhook.installedSaleorAppId > InstalledSaleorApp.id [delete: Cascade]

Ref: IncomingWebhook.vercelLogDrainAppId > VercelLogDrainApp.id [delete: Cascade]

Ref: SecretKey.incomingWebhookId - IncomingWebhook.id [delete: Cascade]